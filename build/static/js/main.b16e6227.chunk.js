(this["webpackJsonpcryptomarket-app"]=this["webpackJsonpcryptomarket-app"]||[]).push([[0],{109:function(e,t,n){},110:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),o=n(26),s=n.n(o),r=(n(82),n(9)),a=n(67),l=n(2);var d=function(){return Object(l.jsxs)("div",{id:"nav-bar",children:[Object(l.jsx)("div",{children:Object(l.jsx)("h1",{onClick:function(){return console.log("home"),window.location.href="/",!1},children:"CryptoMarketo"})}),Object(l.jsxs)("div",{id:"polygon-ref",children:["Powered by ",Object(l.jsx)("a",{href:"https://polygon.io/",children:"Polygon.io"})]})]})},u=n(22),j=n.n(u),h={getHome:function(){return j.a.get("/").then((function(e){return e.data}))},getList:function(e){return j.a.get("/api/myList/".concat(e)).then((function(e){return e.data}))},createList:function(e){return j.a.post("/api/myList/".concat(e)).then((function(e){return e.data}))},updateList:function(e,t){return j.a.put("/api/myList/".concat(t),{data:e}).then((function(e){return e.data}))},getCoin:function(e){return j.a.get("/api/coin/".concat(e),{params:e}).then((function(e){return e.data}))},getCoinNews:function(e){return j.a.get("api/coinNews/".concat(e),{params:e}).then((function(e){return e.data}))},testService:function(){return j.a.get("/api/testing").then((function(e){return e.data}))},getAllServer:function(e){return j.a.get("/api/".concat(e)).then((function(e){return e.data}))},searchService:function(e){return j.a.get("/api/search/",{params:e}).then((function(e){return e.data}))}};var b=function(e){var t=e.articleData;return Object(l.jsxs)("div",{className:"article-container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("a",{href:t.article_url,children:t.title})}),Object(l.jsxs)("div",{children:["by: ",t.author]}),Object(l.jsx)("span",{className:"article-divider",children:"-------"})]})};var v=function(e){var t=e.coinNews;return 0===(null===t||void 0===t?void 0:t.length)?Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"module-header",children:" Recent articles:"}),Object(l.jsx)("div",{children:"No recent news about this coin!"})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"module-header",children:"Recent Articles"}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)("div",{children:Object(l.jsx)(b,{articleData:e})},t)}))]})},O=n(143);var f=function(e){var t=e.listID,n=e.coinData,i=e.coinName,c=e.coinList,o=e.setCoinList;return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"module-header",children:"Coin information"}),Object(l.jsx)("div",{id:"data-coin-symbol",children:null===n||void 0===n?void 0:n.symbol}),Object(l.jsx)("div",{id:"data-coin-name",children:i}),Object(l.jsxs)("div",{id:"data-coin-price",children:[Object(l.jsxs)("div",{children:["Opening price today: $",null===n||void 0===n?void 0:n.open]}),Object(l.jsxs)("div",{children:["Closing price today: $",null===n||void 0===n?void 0:n.close]})]}),Object(l.jsx)(O.a,{variant:"outlined",onClick:function(){if(function(){var e=!1;return null===c||void 0===c||c.forEach((function(t){t.ticker===(null===n||void 0===n?void 0:n.symbol)&&(e=!0)})),e}())return console.log("that exists already"),!1;if(void 0!==n&&void 0!==i){var e={name:i,ticker:null===n||void 0===n?void 0:n.symbol,date:(new Date).toString(),last_price:null===n||void 0===n?void 0:n.close};h.updateList(c.concat(e),t).then((function(t){console.log("updated",t),console.log(o),o(c.concat(e))})).catch((function(e){return console.log(e)}))}return!1},children:"Add to watch list"})]})};var x=function(e){var t=e.listID,n=e.showSearch,c=e.results,o=e.coinList,s=e.setShowSearch,a=e.setCoinList,d=Object(i.useState)(),u=Object(r.a)(d,2),j=u[0],b=u[1],O=Object(i.useState)(),x=Object(r.a)(O,2),g=x[0],m=x[1],p=Object(i.useState)(),L=Object(r.a)(p,2),y=L[0],w=L[1];return console.log("inside result",c),n?0===c.length?Object(l.jsx)("div",{id:"no-result-msg",children:"No result found matching your search term."}):Object(l.jsx)("div",{children:c.map((function(e,t){return Object(l.jsxs)("div",{className:"result-name",id:e.base_currency_symbol,onClick:function(t){return function(e,t){console.log("clicked this",e.currentTarget.id),w(t),h.getCoin(e.currentTarget.id).then((function(e){console.log("coin search",e),s(!1),b(e)})),h.getCoinNews(e.currentTarget.id).then((function(e){console.log("coin news",e),m(e)}))}(t,e.name)},children:[e.base_currency_symbol," (",e.name,")!!"]},t)}))}):j?Object(l.jsxs)("div",{id:"coin-info-container",children:[Object(l.jsx)("div",{className:"info-container",id:"coin-news",children:Object(l.jsx)(v,{coinNews:g})}),Object(l.jsx)("div",{className:"info-container",id:"coin-data",children:Object(l.jsx)(f,{listID:t,coinData:j,coinName:y,coinList:o,setCoinList:a})})]}):Object(l.jsx)("div",{})},g=n(142);var m=function(e){e.listID;var t=e.coinList;return e.setCoinList,console.log("watchlist-coinlist",t),Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:"module-header",children:"My Watch List"}),Object(l.jsx)("div",{children:null===t||void 0===t?void 0:t.map((function(e,t){return Object(l.jsxs)("div",{className:"watchlist-coin-container",children:[Object(l.jsxs)("div",{className:"watchlist-coin-name",children:[Object(l.jsxs)("b",{children:[e.ticker,": "]}),e.name," "]}),Object(l.jsxs)("div",{className:"watchlist-coin-price",children:["$",e.last_price," as of ",e.date]})]},t)}))})]})};var p=function(e){var t=e.listID,n=e.coinList,c=e.setCoinList,o=Object(i.useState)(""),s=Object(r.a)(o,2),a=s[0],d=s[1],u=Object(i.useState)(!1),j=Object(r.a)(u,2),b=j[0],v=j[1],f=Object(i.useState)([]),p=Object(r.a)(f,2),L=p[0],y=p[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("div",{id:"search-component",children:[Object(l.jsx)("div",{id:"search-description",children:"Curious about a coin? Look it up here by ticker or name!"}),Object(l.jsxs)("div",{id:"search",children:[Object(l.jsx)(g.a,{sx:{width:"300px"},id:"outlined-basic",variant:"outlined",type:"text",autoComplete:"off",onChange:function(e){d(e.target.value)}}),Object(l.jsx)(O.a,{sx:{ml:4},id:"search-button",variant:"contained",onClick:function(){return console.log("searching"),console.log(a),h.searchService(a).then((function(e){console.log("search result",e),v(!0),y(e)})),!1},children:"Search"})]}),Object(l.jsxs)("div",{id:"results",children:[Object(l.jsx)(x,{listID:t,showSearch:b,results:L,setShowSearch:v,coinList:n,setCoinList:c}),Object(l.jsx)("div",{className:"info-container",id:"coin-list",children:Object(l.jsx)(m,{listID:t,coinList:n,setCoinList:c})})]})]})})},L=n(65);n(109);var y=function(){var e=Object(i.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],o=Object(i.useState)(""),s=Object(r.a)(o,2),u=s[0],j=s[1];return console.log("HHH",n),Object(i.useEffect)((function(){var e=new a.a,t=e.get("marketoListID");if(t)console.log("cookies found",t),j(t),h.getList(t).then((function(e){c(e.coins)})).catch((function(e){return console.log(e)}));else{var n=Object(L.v4)();console.log("cookies not found",n),e.set("marketoListID",n,{path:"/"}),j(n),h.createList(n).then((function(e){c(e.coins)})).catch((function(e){return console.log(e)}))}}),[]),Object(l.jsxs)("div",{id:"App",children:[Object(l.jsx)(d,{}),Object(l.jsx)(p,{listID:u,coinList:n,setCoinList:c})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,145)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),i(e),c(e),o(e),s(e)}))};s.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),w()},82:function(e,t,n){}},[[110,1,2]]]);
//# sourceMappingURL=main.b16e6227.chunk.js.map