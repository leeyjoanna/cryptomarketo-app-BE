(this["webpackJsonpcryptomarket-app"]=this["webpackJsonpcryptomarket-app"]||[]).push([[0],{115:function(t,e,n){},116:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),a=n(26),r=n.n(a),o=(n(88),n(8)),s=n(74),d=n(2);var l=function(){return Object(d.jsxs)("div",{id:"nav-bar",children:[Object(d.jsx)("div",{children:Object(d.jsx)("h1",{onClick:function(){return window.location.href="/",!1},children:"CryptoMarketo"})}),Object(d.jsxs)("div",{id:"polygon-ref",children:["Powered by ",Object(d.jsx)("a",{href:"https://polygon.io/",children:"Polygon.io"})]})]})},u=n(21),j=n.n(u),h={getHome:function(){return j.a.get("/").then((function(t){return t.data}))},refreshList:function(t){return j.a.get("/api/myList/refresh/".concat(t)).then((function(t){return t.data}))},getList:function(t){return j.a.get("/api/myList/".concat(t)).then((function(t){return t.data}))},createList:function(t){return j.a.post("/api/myList/".concat(t)).then((function(t){return t.data}))},updateList:function(t,e){return j.a.put("/api/myList/".concat(e),{data:t}).then((function(t){return t.data}))},getCoin:function(t){return j.a.get("/api/coin/".concat(t),{params:t}).then((function(t){return t.data}))},getCoinNews:function(t){return j.a.get("api/coinNews/".concat(t),{params:t}).then((function(t){return t.data}))},testService:function(){return j.a.get("/api/testing").then((function(t){return t.data}))},getAllServer:function(t){return j.a.get("/api/".concat(t)).then((function(t){return t.data}))},searchService:function(t){return j.a.get("/api/search/",{params:t}).then((function(t){return t.data}))}};var b=function(t){var e=t.articleData;return Object(d.jsxs)("div",{className:"article-container",children:[Object(d.jsx)("div",{children:Object(d.jsx)("a",{href:e.article_url,children:e.title})}),Object(d.jsxs)("div",{children:["by: ",e.author]}),Object(d.jsx)("span",{className:"article-divider",children:"-------"})]})};var v=function(t){var e=t.coinNews;return 0===(null===e||void 0===e?void 0:e.length)?Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"module-header",children:" Recent articles:"}),Object(d.jsx)("div",{children:"No recent news about this coin!"})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"module-header",children:"Recent Articles"}),null===e||void 0===e?void 0:e.map((function(t,e){return Object(d.jsx)("div",{children:Object(d.jsx)(b,{articleData:t})},e)}))]})},f=n(156);var O=function(t){var e=t.listID,n=t.coinData,i=t.coinName,c=t.coinList,a=t.setCoinList;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"module-header",children:"Coin information"}),Object(d.jsx)("div",{id:"data-coin-symbol",children:null===n||void 0===n?void 0:n.symbol}),Object(d.jsx)("div",{id:"data-coin-name",children:i}),Object(d.jsxs)("div",{id:"data-coin-price",children:[Object(d.jsxs)("div",{children:["Opening price today: $",null===n||void 0===n?void 0:n.open]}),Object(d.jsxs)("div",{children:["Closing price today: $",null===n||void 0===n?void 0:n.close]})]}),Object(d.jsx)(f.a,{variant:"outlined",onClick:function(){if(function(){var t=!1;return null===c||void 0===c||c.forEach((function(e){e.ticker===(null===n||void 0===n?void 0:n.symbol)&&(t=!0)})),t}())return alert("oops, that's in your list already!"),!1;if(void 0!==n&&void 0!==i){var t={name:i,ticker:null===n||void 0===n?void 0:n.symbol,date:null===n||void 0===n?void 0:n.day,last_price:null===n||void 0===n?void 0:n.close};h.updateList(c.concat(t),e).then((function(e){a(c.concat(t))})).catch((function(t){return console.log(t)}))}return!1},children:"Add to watch list"})]})},m=n(155),x=n(158),p=n(152);var g=function(t){var e=t.listID,n=t.coinList,i=t.setCoinList,a=(t.coinData,t.setCoinData),r=(t.coinNews,t.setCoinNews),s=(t.coinName,t.setCoinName),l=t.setShowSearch,u=c.a.useState(null),j=Object(o.a)(u,2),b=j[0],v=j[1],O=Boolean(b),g=O?"simple-popover":void 0;return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"module-header",children:["My Watch List"," ",Object(d.jsx)(f.a,{variant:"outlined",size:"small",onClick:function(t){return function(t){h.refreshList(t).then((function(t){i(t)})).catch((function(t){return console.log(t)}))}(e)},children:"refresh"}),Object(d.jsx)(f.a,{"aria-describedby":g,variant:"text",size:"small",onClick:function(t){v(t.currentTarget)},children:"?"}),Object(d.jsx)(m.a,{id:g,open:O,anchorEl:b,onClose:function(){v(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(d.jsx)(x.a,{sx:{p:2},children:"API calls are limited to 5/minute, it may take some time to refresh your list and update any prices."})})]}),Object(d.jsx)("div",{children:null===n||void 0===n?void 0:n.map((function(t,c){return Object(d.jsxs)("div",{onClick:function(e){return function(t,e,n){s(n),h.getCoin(t.currentTarget.id).then((function(t){l(!1),a(t)})),h.getCoinNews(t.currentTarget.id).then((function(t){r(t)}))}(e,t.ticker,t.name)},className:"watchlist-coin-container",id:t.ticker,children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"watchlist-coin-name",children:[Object(d.jsxs)("b",{children:[t.ticker,": "]}),t.name," "]}),Object(d.jsxs)("div",{className:"watchlist-coin-price",children:["$",t.last_price," as of ",t.date]})]}),Object(d.jsx)("div",{children:Object(d.jsx)(p.a,{onClick:function(c){return function(t,c){t.stopPropagation();var a=n.filter((function(t){return t.ticker!==c}));return h.updateList(a,e).then((function(t){i(a)})).catch((function(t){return console.log(t)})),!1}(c,t.ticker)},id:t.name,className:"delete-icon"})})]},c)}))})]})};var C=function(t){var e=t.listID,n=t.showSearch,c=t.results,a=t.coinList,r=t.setShowSearch,s=t.setCoinList,l=Object(i.useState)(),u=Object(o.a)(l,2),j=u[0],b=u[1],f=Object(i.useState)([]),m=Object(o.a)(f,2),x=m[0],p=m[1],C=Object(i.useState)(""),N=Object(o.a)(C,2),L=N[0],w=N[1];return n?0===c.length?Object(d.jsx)("div",{id:"no-result-msg",children:"No result found matching your search term."}):Object(d.jsxs)("div",{id:"search-results",children:[Object(d.jsx)("div",{children:c.map((function(t,e){return Object(d.jsxs)("div",{className:"result-name",id:t.base_currency_symbol,onClick:function(e){return function(t,e){w(e),h.getCoin(t.currentTarget.id).then((function(t){r(!1),b(t)})),h.getCoinNews(t.currentTarget.id).then((function(t){p(t)}))}(e,t.name)},children:[t.base_currency_symbol," (",t.name,")"]},e)}))}),Object(d.jsx)("div",{className:"info-container",id:"coin-watch",children:Object(d.jsx)(g,{listID:e,coinList:a,setCoinList:s,coinData:j,setCoinData:b,coinNews:x,setCoinNews:p,coinName:L,setCoinName:w,setShowSearch:r})})]}):j?Object(d.jsxs)("div",{id:"coin-info-container",children:[Object(d.jsx)("div",{className:"info-container",id:"coin-news",children:Object(d.jsx)(v,{coinNews:x})}),Object(d.jsx)("div",{className:"info-container",id:"coin-data",children:Object(d.jsx)(O,{listID:e,coinData:j,coinName:L,coinList:a,setCoinList:s})}),Object(d.jsx)("div",{className:"info-container",id:"coin-watch",children:Object(d.jsx)(g,{listID:e,coinList:a,setCoinList:s,coinData:j,setCoinData:b,coinNews:x,setCoinNews:p,coinName:L,setCoinName:w,setShowSearch:r})})]}):Object(d.jsx)("div",{className:"info-container",id:"coin-watch",children:Object(d.jsx)(g,{listID:e,coinList:a,setCoinList:s,coinData:j,setCoinData:b,coinNews:x,setCoinNews:p,coinName:L,setCoinName:w,setShowSearch:r})})},N=n(154);var L=function(t){var e=t.listID,n=t.coinList,c=t.setCoinList,a=Object(i.useState)(""),r=Object(o.a)(a,2),s=r[0],l=r[1],u=Object(i.useState)(!1),j=Object(o.a)(u,2),b=j[0],v=j[1],O=Object(i.useState)([]),m=Object(o.a)(O,2),x=m[0],p=m[1];return Object(d.jsx)("div",{children:Object(d.jsxs)("div",{id:"search-component",children:[Object(d.jsx)("div",{id:"search-description",children:"Curious about a coin? Look it up here by ticker or name!"}),Object(d.jsxs)("div",{id:"search",children:[Object(d.jsx)(N.a,{sx:{width:"300px"},id:"outlined-basic",variant:"outlined",type:"text",autoComplete:"off",onChange:function(t){l(t.target.value)}}),Object(d.jsx)(f.a,{sx:{ml:4},id:"search-button",variant:"contained",onClick:function(){return h.searchService(s).then((function(t){v(!0),p(t)})),!1},children:"Search"})]}),Object(d.jsx)("div",{id:"results",children:Object(d.jsx)(C,{listID:e,showSearch:b,results:x,setShowSearch:v,coinList:n,setCoinList:c})})]})})},w=n(73);n(115);var y=function(){var t=Object(i.useState)([]),e=Object(o.a)(t,2),n=e[0],c=e[1],a=Object(i.useState)(""),r=Object(o.a)(a,2),u=r[0],j=r[1];return Object(i.useEffect)((function(){var t=new s.a,e=t.get("marketoListID");if(e)j(e),h.getList(e).then((function(t){c(t.coins)})).catch((function(t){return console.log(t)}));else{var n=Object(w.v4)();t.set("marketoListID",n,{path:"/"}),j(n),h.createList(n).then((function(t){c(t.coins)})).catch((function(t){return console.log(t)}))}}),[]),Object(d.jsxs)("div",{id:"App",children:[Object(d.jsx)(l,{}),Object(d.jsx)(L,{listID:u,coinList:n,setCoinList:c})]})},S=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,160)).then((function(e){var n=e.getCLS,i=e.getFID,c=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),i(t),c(t),a(t),r(t)}))};r.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),S()},88:function(t,e,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.11b89263.chunk.js.map